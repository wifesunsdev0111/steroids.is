(function($){Drupal.behaviors.captcha={attach:function(context){$("#edit-captcha-response").attr("autocomplete","off");}};Drupal.behaviors.captchaAdmin={attach:function(context){$("#edit-captcha-add-captcha-description").click(function(){if($("#edit-captcha-add-captcha-description").is(":checked")){$("div.form-item-captcha-description").show('slow');}
else{$("div.form-item-captcha-description").hide('slow');}});if(!$("#edit-captcha-add-captcha-description").is(":checked")){$("div.form-item-captcha-description").hide();}}};})(jQuery);;;(function($){Drupal.behaviors.unifiedLogin={attach:function(context){$('.toboggan-unified #register-link').click(function(){$(this).addClass('lt-active').blur();$('.toboggan-unified #login-link').removeClass('lt-active');$('.toboggan-unified #register-form').show();$('.toboggan-unified #login-form').hide();$.ajax({url:"/user/register",success:function(data){var title=data.match("<title>(.*?)</title>")[1];$('html head').find('title').text(title);$('h1.title').text(title.substring(0,title.indexOf('|')));},});return false;});$('.toboggan-unified #login-link').click(function(){$(this).addClass('lt-active').blur();$('.toboggan-unified #register-link').removeClass('lt-active');$('.toboggan-unified #login-form').show();$('.toboggan-unified #register-form').hide();$.ajax({url:"/user/login",success:function(data){var title=data.match("<title>(.*?)</title>")[1];$('html head').find('title').text(title);$('h1.title').text(title.substring(0,title.indexOf('|')));},});return false;});switch(Drupal.settings.LoginToboggan.unifiedLoginActiveForm){case'register':$('.toboggan-unified #register-link').click();break;case'login':default:$('.toboggan-unified #login-link').click();break;}}};})(jQuery);;;(function($){Drupal.behaviors.password={attach:function(context,settings){var translate=settings.password;$('input.password-field',context).once('password',function(){var passwordInput=$(this);var innerWrapper=$(this).parent();var outerWrapper=$(this).parent().parent();innerWrapper.addClass('password-parent');$('input.password-confirm',outerWrapper).parent().prepend('<div class="password-confirm">'+translate['confirmTitle']+' <span></span></div>').addClass('confirm-parent');var confirmInput=$('input.password-confirm',outerWrapper);var confirmResult=$('div.password-confirm',outerWrapper);var confirmChild=$('span',confirmResult);var passwordMeter='<div class="password-strength"><div class="password-strength-text" aria-live="assertive"></div><div class="password-strength-title">'+translate['strengthTitle']+'</div><div class="password-indicator"><div class="indicator"></div></div></div>';$(confirmInput).parent().after('<div class="password-suggestions description"></div>');$(innerWrapper).prepend(passwordMeter);var passwordDescription=$('div.password-suggestions',outerWrapper).hide();var passwordCheck=function(){var result=Drupal.evaluatePasswordStrength(passwordInput.val(),settings.password);if(passwordDescription.html()!=result.message){passwordDescription.html(result.message);}
if(result.strength==100){passwordDescription.hide();}
else{passwordDescription.show();}
$(innerWrapper).find('.indicator').css('width',result.strength+'%');$(innerWrapper).find('.password-strength-text').html(result.indicatorText);passwordCheckMatch();};var passwordCheckMatch=function(){if(confirmInput.val()){var success=passwordInput.val()===confirmInput.val();confirmResult.css({visibility:'visible'});if(this.confirmClass){confirmChild.removeClass(this.confirmClass);}
var confirmClass=success?'ok':'error';confirmChild.html(translate['confirm'+(success?'Success':'Failure')]).addClass(confirmClass);this.confirmClass=confirmClass;}
else{confirmResult.css({visibility:'hidden'});}};passwordInput.keyup(passwordCheck).focus(passwordCheck).blur(passwordCheck);confirmInput.keyup(passwordCheckMatch).blur(passwordCheckMatch);});}};Drupal.evaluatePasswordStrength=function(password,translate){password=$.trim(password);var weaknesses=0,strength=100,msg=[];var hasLowercase=/[a-z]+/.test(password);var hasUppercase=/[A-Z]+/.test(password);var hasNumbers=/[0-9]+/.test(password);var hasPunctuation=/[^a-zA-Z0-9]+/.test(password);var usernameBox=$('input.username');var username=(usernameBox.length>0)?usernameBox.val():translate.username;if(password.length<6){msg.push(translate.tooShort);strength-=((6-password.length)*5)+30;}
if(!hasLowercase){msg.push(translate.addLowerCase);weaknesses++;}
if(!hasUppercase){msg.push(translate.addUpperCase);weaknesses++;}
if(!hasNumbers){msg.push(translate.addNumbers);weaknesses++;}
if(!hasPunctuation){msg.push(translate.addPunctuation);weaknesses++;}
switch(weaknesses){case 1:strength-=12.5;break;case 2:strength-=25;break;case 3:strength-=40;break;case 4:strength-=40;break;}
if(password!==''&&password.toLowerCase()===username.toLowerCase()){msg.push(translate.sameAsUsername);strength=5;}
if(strength<60){indicatorText=translate.weak;}else if(strength<70){indicatorText=translate.fair;}else if(strength<80){indicatorText=translate.good;}else if(strength<=100){indicatorText=translate.strong;}
msg=translate.hasWeaknesses+'<ul><li>'+msg.join('</li><li>')+'</li></ul>';return{strength:strength,message:msg,indicatorText:indicatorText};};Drupal.behaviors.fieldUserRegistration={attach:function(context,settings){var $checkbox=$('form#field-ui-field-edit-form input#edit-instance-settings-user-register-form');if($checkbox.length){$('input#edit-instance-required',context).once('user-register-form-checkbox',function(){$(this).bind('change',function(e){if($(this).attr('checked')){$checkbox.attr('checked',true);}});});}}};})(jQuery);;;(function($){function sanitizeHTML(str){return $("<div>").html(str).text();}
function escapeHtml(text){return text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");}
function escapeRegExp(str){str=$.trim(str);return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}
$.ui.autocomplete.prototype._renderItem=function(ul,item){var term=escapeHtml(this.term);var first=("group"in item)?'first':'';var innerHTML='<div class="ui-autocomplete-fields '+first+'">';item.value=sanitizeHTML(item.value);item.label=sanitizeHTML(item.label);if(item.fields){$.each(item.fields,function(key,value){var regex=new RegExp('('+escapeRegExp(term)+')','gi');var output=sanitizeHTML(value);if(value.indexOf('src=')==-1&&value.indexOf('href=')==-1){output=output.replace(regex,"<span class='ui-autocomplete-field-term'>$1</span>");innerHTML+=('<div class="ui-autocomplete-field-'+key+'">'+output+'</div>');}else{innerHTML+=('<div class="ui-autocomplete-field-'+key+'">'+value+'</div>');}});}else{innerHTML+=('<div class="ui-autocomplete-field">'+item.label+'</div>');}
innerHTML+='</div>';var group='';if("group"in item){groupId=typeof(item.group.group_id)!=='undefined'?item.group.group_id:'';groupName=typeof(item.group.group_name)!=='undefined'?item.group.group_name:'';group+=('<div class="ui-autocomplete-field-group '+groupId+'">'+groupName+'</div>');$(group).appendTo(ul);}
var elem=$("<li class=ui-menu-item-"+first+"></li>").append("<a>"+innerHTML+"</a>");if(item.value==''){elem=$("<li class='ui-state-disabled ui-menu-item-"+first+" ui-menu-item'>"+item.label+"</li>");}
elem.data("item.autocomplete",item).appendTo(ul);Drupal.attachBehaviors(elem);return elem;};$.ui.autocomplete.prototype._resizeMenu=function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+5,this.options.position.of==null?this.element.outerWidth():this.options.position.of.outerWidth()));};Drupal.behaviors.search_autocomplete={attach:function(context){if(Drupal.settings.search_autocomplete){$.each(Drupal.settings.search_autocomplete,function(key,value){$(Drupal.settings.search_autocomplete[key].selector).bind("mouseover",function(){$(Drupal.settings.search_autocomplete[key].selector).addClass('form-autocomplete ui-autocomplete-processed').attr('data-sa-theme',Drupal.settings.search_autocomplete[key].theme).autocomplete({minLength:Drupal.settings.search_autocomplete[key].minChars,source:function(request,response){$(Drupal.settings.search_autocomplete[key].selector).addClass('throbbing');if(Drupal.settings.search_autocomplete[key].type=='external'){$.getJSON(Drupal.settings.search_autocomplete[key].datas,{q:encodeURIComponent(request.term)},function(results){if(results.length){results.slice(0,Drupal.settings.search_autocomplete[key].max_sug);}
response(results);});}
else if(Drupal.settings.search_autocomplete[key].type=='internal'||Drupal.settings.search_autocomplete[key].type=='view'){$.getJSON('https://proroid.is/search_autocomplete/autocomplete/3/',request,function(results){if(results.length){results.slice(0,Drupal.settings.search_autocomplete[key].max_sug);}
response(results);});}
else if(Drupal.settings.search_autocomplete[key].type=='static'){var results=$.ui.autocomplete.filter(Drupal.settings.search_autocomplete[key].datas,request.term);if(results.length){results.slice(0,Drupal.settings.search_autocomplete[key].max_sug);}
response(results);}},open:function(event,ui){$(".ui-autocomplete li.ui-menu-item:odd").addClass("ui-menu-item-odd");$(".ui-autocomplete li.ui-menu-item:even").addClass("ui-menu-item-even");$(Drupal.settings.search_autocomplete[key].selector).removeClass('throbbing');},select:function(event,ui){if(Drupal.settings.search_autocomplete[key].auto_redirect==1&&ui.item.link){document.location.href=ui.item.link;}else if(Drupal.settings.search_autocomplete[key].auto_submit==1&&ui.item.value){$(this).val(ui.item.value);$(this).closest("form").submit();}
$(this).val(sanitizeHTML(ui.item.value));},focus:function(event,ui){if(typeof ui.item.group!='undefined'){if(ui.item.group.group_id=='no_results'||ui.item.group.group_id=='all_results'){event.preventDefault();}}},appendTo:$(Drupal.settings.search_autocomplete[key].selector).parent()}).autocomplete("widget").attr("data-sa-theme",Drupal.settings.search_autocomplete[key].theme);});$(Drupal.settings.search_autocomplete[key].selector).trigger('mouseover');});}}};})(jQuery);;(function($){Drupal.googleanalytics={};$(document).ready(function(){$(document.body).bind("mousedown keyup touchstart",function(event){$(event.target).closest("a,area").each(function(){if(Drupal.googleanalytics.isInternal(this.href)){if($(this).is('.colorbox')&&(Drupal.settings.googleanalytics.trackColorbox)){}
else if(Drupal.settings.googleanalytics.trackDownload&&Drupal.googleanalytics.isDownload(this.href)){ga("send",{"hitType":"event","eventCategory":"Downloads","eventAction":Drupal.googleanalytics.getDownloadExtension(this.href).toUpperCase(),"eventLabel":Drupal.googleanalytics.getPageUrl(this.href),"transport":"beacon"});}
else if(Drupal.googleanalytics.isInternalSpecial(this.href)){ga("send",{"hitType":"pageview","page":Drupal.googleanalytics.getPageUrl(this.href),"transport":"beacon"});}}
else{if(Drupal.settings.googleanalytics.trackMailto&&$(this).is("a[href^='mailto:'],area[href^='mailto:']")){ga("send",{"hitType":"event","eventCategory":"Mails","eventAction":"Click","eventLabel":this.href.substring(7),"transport":"beacon"});}
else if(Drupal.settings.googleanalytics.trackOutbound&&this.href.match(/^\w+:\/\//i)){if(Drupal.settings.googleanalytics.trackDomainMode!==2||(Drupal.settings.googleanalytics.trackDomainMode===2&&!Drupal.googleanalytics.isCrossDomain(this.hostname,Drupal.settings.googleanalytics.trackCrossDomains))){ga("send",{"hitType":"event","eventCategory":"Outbound links","eventAction":"Click","eventLabel":this.href,"transport":"beacon"});}}}});});if(Drupal.settings.googleanalytics.trackUrlFragments){window.onhashchange=function(){ga("send",{"hitType":"pageview","page":location.pathname+location.search+location.hash});};}
if(Drupal.settings.googleanalytics.trackColorbox){$(document).bind("cbox_complete",function(){var href=$.colorbox.element().attr("href");if(href){ga("send",{"hitType":"pageview","page":Drupal.googleanalytics.getPageUrl(href)});}});}});Drupal.googleanalytics.isCrossDomain=function(hostname,crossDomains){if(!crossDomains){return false;}
else{return $.inArray(hostname,crossDomains)>-1?true:false;}};Drupal.googleanalytics.isDownload=function(url){var isDownload=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([\?#].*)?$","i");return isDownload.test(url);};Drupal.googleanalytics.isInternal=function(url){var isInternal=new RegExp("^(https?):\/\/"+window.location.host,"i");return isInternal.test(url);};Drupal.googleanalytics.isInternalSpecial=function(url){var isInternalSpecial=new RegExp("(\/go\/.*)$","i");return isInternalSpecial.test(url);};Drupal.googleanalytics.getPageUrl=function(url){var extractInternalUrl=new RegExp("^(https?):\/\/"+window.location.host,"i");return url.replace(extractInternalUrl,'');};Drupal.googleanalytics.getDownloadExtension=function(url){var extractDownloadextension=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([\?#].*)?$","i");var extension=extractDownloadextension.exec(url);return(extension===null)?'':extension[1];};})(jQuery);;;